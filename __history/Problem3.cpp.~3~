//---------------------------------------------------------------------------

#include <fmx.h>
#pragma hdrstop

#include "Problem3.h"
#include "petri_net.h"
#include "petri_net.cpp"
#include <string>
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.fmx"
TItem3 *Item3;
Net n;
//---------------------------------------------------------------------------
__fastcall TItem3::TItem3(TComponent* Owner)
	: TForm(Owner)
{
}
//---------------------------------------------------------------------------

void __fastcall TItem3::Button3Click(TObject *Sender)
{
     pFree3->Text = FreeEdit->Text;
	 pDocu3->Text = DocuEdit->Text;
	 pBusy3->Text = BusyEdit->Text;
	 pWait3->Text = WaitEdit->Text;
	 pInside3->Text = InsideEdit->Text;
	 pDone3->Text = DoneEdit->Text;

     string places[] = {"pFree", "pWait", "pInside", "pDone", "pBusy", "pDocu"};
    string trans[] = {"tStart", "tChange", "tEnd"};
    string arcs[] = {
        "pFree->tStart",
        "pWait->tStart",
        "tStart->pBusy",
        "tStart->pInside",
        "pInside->tChange",
        "pBusy->tChange",
        "tEnd->pFree",
        "tChange->pDocu",
        "pDocu->tEnd",
        "tChange->pDone"};
    int nP = sizeof(places) / sizeof(places[0]);
    int nT = sizeof(trans) / sizeof(trans[0]);
    int nA = sizeof(arcs) / sizeof(arcs[0]);

	n.addPlaces(places, nP);
    n.addTransitions(trans, nT);
    n.addArcs(arcs, nA);

	int problem = 3;
}
//---------------------------------------------------------------------------

